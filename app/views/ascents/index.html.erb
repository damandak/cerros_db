<p id="notice"><%= notice %></p>

<table id="ascent-table" class="table table-striped table-sm" role="datatable">
  <thead class="thead-dark">
    <tr>
      <th>ID</th>
      <th>Montaña</th>
      <th>Ruta</th>
      <th>Descripción</th>
      <th>Andinistas</th>
      <th style="min-width: 120px">Fecha</th>
    </tr>
  </thead>

  <tbody>
    <% @ascents.each do |ascent| %>
      <tr>
        <td> <%= ascent.id %> </th>
        <th> <%= link_to ascent.route.mountain.fullname, mountain_path(ascent.route.mountain) %> </td>
        <td> <%= link_to ascent.route.name, route_path(ascent.route) %> </td> 
        <td> <%= ascent.name %> </td> 
        <td>
          <% cont = 0  %>
          <% ascent.andinists.each do |andinist| %>
            <%= cont == 0 ? "" :', '%>
            <%= link_to andinist.fullname, andinist_path(andinist) %>
            <% cont += 1 %>
          <% end %>
        </td>
        <td> <%= ascent.fulldate %></td>
<!--         <td>
          <% if mountain.solo_ascent then %>
            <span class="badge badge-success" data-toggle="tooltip" data-placement="top" title="Ascenso en solitario">
              <i class="far fa-user" > </i>
            </span>
          <% end %>
          <% if mountain.winter_ascent then %>
            <span class="badge badge-success" data-toggle="tooltip" data-placement="top" title="Ascenso Invernal">
              <i class="far fa-snowflake" > </i>
            </span>
          <% end %>
        </td>
        <td>
          <%= link_to(edit_mountain_path(mountain)) do %>
            <i class="far fa-edit"></i>
          <% end %>
        </td> -->
      </tr>
    <% end %>
  </tbody>
</table>

<script type="text/javascript">
  $(document).ready(function() {
    $('#ascent-table').DataTable({
      "language": {
            "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
        }
      });
  });
</script>

<br>

<%= link_to 'New Ascent', new_ascent_path %>
