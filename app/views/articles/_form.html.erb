<%= form_with(model: article, local: true) do |form| %>

  <div class="mb-3">
    <%= form.label :title, "TÃ­tulo", :class => "form-label" %><br>
    <%= form.text_field :title, :class => "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :subtitle, "Bajada", :class => "form-label" %><br>
    <%= form.text_field :subtitle, :class => "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :body, "Cuerpo", :class => "form-label" %><br>
    <%= form.hidden_field :body, class: "article-content" %>
    <div id="editor-container" style="height: 30rem; width: 100%;">
      <%= raw(@article.body) %>
    </div>
  </div>

   <div class="mb-3">
    <%= form.label :andinist_ids, "Autores/Andinistas", :class => "form-label" %><br>
    <%= form.select :andinist_ids, andinists_for_select, {:include_hidden => false}, {:class => "form-select", :multiple => true} %>
  </div>

  <div class="mb-3">
    <%= form.label :img_url, "Link a imagen de portada", :class => "form-label" %><br>
    <%= form.text_field :img_url, :class => "form-control"%>
  </div>

  <div class="mb-3">
    <%= form.label :img_author, "Autor de la imagen", :class => "form-label" %><br>
    <%= form.text_field :img_author, :class => "form-control"%>
  </div>

  <% if article.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(article.errors.count, "error") %> prohibited this article from being saved:</h2>

      <ul>
        <% article.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

    <div class="actions">
    <%= form.submit "Publicar", :class => "btn btn-primary"  %>
  </div>
<% end %>


<script>
    new SlimSelect({
      select: '#article_andinist_ids'
    })
  </script>

