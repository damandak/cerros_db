<% if notice then %>
  <div class="alert alert-primary" role="alert"><%= notice %></div>
<% end %>

<h1>Cerros</h1>
<div class="mb-3 row">
  <%= form_tag(mountains_path, :class => "form-inline", method: "get") do %>
    <select name=mountain[:ascended], class = "form_control custom-select col m-1">
      <option value = "None">- Ascendido -</option>
      <option value = "Sí">Sí</option>
      <option value = "No">No</option>
    </select>

    
    <%= submit_tag "Filtrar", :class => "form-control btn btn-primary col m-1"  %>
  <% end %>
</div>



<table id="mountain-table" class="table table-striped table-sm" role="datatable">
  <thead class="thead-dark">
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>País(es)</th>
      <th>Altura</th>
      <th>Latitud Sur</th>
      <th>Longitud Oeste</th>
      <th>Ascendido</th>
    </tr>
  </thead>
  <tbody>
    <% @mountains.each do |mountain| %>
      <tr>
        <td> <%= mountain.id %> </th>
        <td> <%= link_to mountain.fullname, mountain_path(mountain) %> </td>
        <td>  </td> 
        <td> <%= mountain.altitude ? mountain.altitude : "-" %> </td> 
        <td> <%= mountain.latitude ? sprintf("%.4f",(mountain.latitude)) : "-" %> </td> 
        <td> <%= mountain.longitude ? sprintf("%.4f",(mountain.longitude)) : "-" %> </td>
        <td> <%= mountain.ascended_str %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<script type="text/javascript">
  $(document).ready(function() {
    $('#mountain-table').DataTable({
      "language": {
            "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
        }
      });
  });
</script>
<script>
$("[data-toggle=tooltip").tooltip();
  </script>

<%= link_to 'Crear Cerro', new_mountain_path %>

